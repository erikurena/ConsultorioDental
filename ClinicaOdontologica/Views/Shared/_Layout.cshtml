@using System.Security.Claims;

@{
    var IdUsuario = User.FindFirstValue(ClaimTypes.NameIdentifier);
    var NombreUsuario = User.FindFirstValue(ClaimTypes.Name);
    var ImgUsuario = User.FindFirstValue(ClaimTypes.GivenName);
}
<!DOCTYPE html>
<html lang="es-es">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>@ViewData["Title"] - ClinicaOdontologica</title>
    <link rel="stylesheet" href="~/lib/bootstrap/dist/css/bootstrap.min.css" asp-append-version="true" />
    <link rel="stylesheet" href="~/css/site.css" asp-append-version="true" />
    <link rel="stylesheet" href="~/css/bootstrap-datepicker.min.css" asp-append-version="true" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/fullcalendar@5.11.0/main.min.css" rel="stylesheet" asp-append-version="true">
    <script src="https://cdn.jsdelivr.net/npm/fullcalendar@5.11.0/main.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fullcalendar/5.10.1/locales/es.min.js"></script>
    <style>
        html, body {
            margin: 0;
            padding: 0;
            background: rgb(240,242,245);
        }
        
        .nav-item:hover {
            border: 0px solid rgba(100, 100, 100, 1);
            border-radius: 28px;
            background-color: rgba(209, 207, 207, 0.5);           
        }
        .nav-item:hover i {
                color: rgb(23, 91, 105);
        }
       
}
    </style>
</head>

<body>
    <div class="container-fluid">
        <div class="row">
            <header class="navbar sticky-top navbar-expand-md bg-white shadow-sm"  >
                <div class="navbar-brand p-0 m-0">
                    <img src="/img/OIG1.jpg" alt="" class="w-100 p-0 m-0" height="50"  />                                
                </div>
                <div class="p-2">
                    <a asp-controller="Home" asp-action="Index" class="nav-link link-dark p-0 "> <span class=" fw-bolder  fs-5">Clinica Titanium </span> </a>
                </div>
                <button class=" navbar-toggler navbar-dark bg-dark" type="button" data-bs-toggle="collapse" data-bs-target="#navbarText" aria-controls="navbarText" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon navbar-dark bg-dark "></span>
                </button>
                <div class="collapse navbar-collapse ocultarElemento" id="navbarText ">
                    <div class="ms-auto">
                        <a class="nav-link" asp-controller="Login" asp-action="Salir"><i class="fa-solid fa-right-from-bracket "></i> <span class="ps-2">Salir </span></a>
                    </div>
                </div>
            </header>

            <nav class="navbar navbar-expand-md navbar-light flex-md-column col-12 col-sm-12  col-lg-3 columnaNav shadow-lg bg-dark p-0 navbarExpandido text-light" id="navbarText">
                <div class="container-fluid flex-md-column ps-3 pe-3 ">
                    <div class="row collapse navbar-collapse p-0 w-0 w-100" id="navbarText">
                        <div class=" p-0 m-0 d-flex justify-content-center flex-column align-items-center pt-3 ">
                            @if (!string.IsNullOrEmpty(ImgUsuario))
                            {
                                <img src="@ImgUsuario" alt="Dr. Imagen" class="p-0 m-0 circle ocultarElemento">
                            }
                           
                            <span class="navbar-tex d-flex justify-content-center">@NombreUsuario <br /></span>
                            <hr />
                        </div>                        
                    </div>
                    <div class="row collapse navbar-collapse w-100 " id="navbarText">
                        <div class="flex-column d-flex justify-content-start align-items-center w-100 p-0 ">
                            <ul class="navbar-nav mb-lg-0 flex-column p-0 w-100  ">
                                <li class="nav-item   ">
                                    <a class="nav-link   text-light   " asp-controller="Usuario" asp-action="Index"><i class="fas fa-users"></i> <span class=" m-1 letraNav">Usuarios</span> </a>
                                </li>
                                <li class="nav-item ">
                                    <a class="nav-link   text-light  " asp-controller="AgendarCita" asp-action="GuardarCita"><i class="fa-solid fa-calendar-days"></i> <span class=" m-1 letraNav">Agendar Cita </span>  </a>
                                </li>
                                <li class="nav-item ">
                                    <a class="nav-link   text-light " asp-controller="AgendarCita" asp-action="MostrarAgenda"><i class="fa-solid fa-calendar-days "></i> <span class=" m-1 letraNav">Mostrar Citas </span>  </a>
                                </li>
                                <li class="nav-item ">
                                    <a class="nav-link   text-light " asp-controller="Paciente" asp-action="Pacientes"><i class="fa-solid fa-laptop-medical"></i> <span class=" m-1 letraNav">Pacientes </span>  </a>
                                </li>
                                <li class="nav-item ocultarElementoOpcional ">
                                    <a class="nav-link   text-light " asp-controller="Login" asp-action="Salir"><i class="fa-solid fa-right-from-bracket "></i> <span class=" m-1 letraNav">Salir </span>  </a>
                                </li>
                            </ul>
                        </div>
                    </div>
                   
                </div>
            </nav>

            <div class="cuerpo col-12 col-sm-12 col-md-9 col-lg-9  ms-auto  me-auto mt-3" >
                <main role="main" class="pb-3">
                    @RenderBody()
                </main>
                <hr />
                <footer class=" footer text-muted m-4 p-2 d-flex align-items-center">
                    <div class="container text-center ">
                        &copy; 2024 - ClinicaOdontologica - UreñaSoft
                    </div>
                </footer>
            </div>

        </div>

    </div>


    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <script src="~/lib/bootstrap/dist/js/bootstrap.bundle.min.js" asp-append-version="true"></script>
    <script src="~/js/bootstrap-datepicker.min.js" asp-append-version="true"></script>
    <script src="~/js/site.js" asp-append-version="true"></script>
    <script src="~/js/Calendar.js" asp-append-version="true"></script>
    @await RenderSectionAsync("Scripts", required: false)
</body>
</html>